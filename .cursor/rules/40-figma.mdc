---
description: Figma design file operations and design token extraction
globs: "**/*.figma,**/design/**/*"
alwaysApply: false
---

# Figma Automation

## URL Structure
- Design files: `figma.com/design/FILE_KEY/Name`
- Node IDs in URL: `node-id=1-541` (dash format)
- API uses: `1:541` (colon format)

## Key Operations

### Get File Data
- `file_key`: Extract from URL (e.g., 'abc123XYZ')
- `depth`: Tree traversal depth (2 for pages + top-level)
- `simplify`: True for smaller AI-friendly responses

### Export Images
- Formats: `png`, `svg`, `jpg`, `pdf`
- Scale: 0.01 to 4.0 for PNG/JPG
- Max: 32 megapixels per export
- URLs are temporary (~30 days)

### Design Tokens
Extract for development:
- Colors (fills, strokes)
- Typography (fonts, sizes, weights)
- Spacing values
- Border radii

### Convert to Tailwind
After token extraction, convert to Tailwind config format for use in code.

## Limitations
- Only Design files supported (not FigJam or Slides)
- Node ID format differs between URL and API
- Published components only in team endpoints
- Team ID must be extracted from URL (not programmatic)

## Best Practices
- Use `simplify: true` to reduce response size by 70%+
- Narrow scope with specific `ids` to avoid large payloads
- Convert dash node IDs to colon format for API calls
