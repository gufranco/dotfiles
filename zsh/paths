#!/usr/bin/env bash

################################################################################
# General paths
################################################################################
# Npm
export PATH="$HOME/.global-modules/bin:$PATH"

# RVM
if [ -d "$HOME/.rvm/bin" ] || [ -h "$HOME/.rvm/bin" ]; then
  export PATH="$HOME/.rvm/bin:$PATH"
fi

# NVM
if [ -d "$HOME/.nvm" ] || [ -h "$HOME/.nvm" ]; then
  export NVM_DIR="$HOME/.nvm"

  source "$NVM_DIR/nvm.sh"
fi

################################################################################
# System specific paths
################################################################################
case "$(uname)" in
  "Linux")
    # Neomutt
    export PATH="/usr/libexec/neomutt:$PATH"

    ;;
  "Darwin")
    case "$(uname -m)" in
      "arm64")
        export HOMEBREW_PREFIX="/opt/homebrew";
        export HOMEBREW_CELLAR="/opt/homebrew/Cellar";
        export HOMEBREW_REPOSITORY="/opt/homebrew";
        export HOMEBREW_SHELLENV_PREFIX="/opt/homebrew";
        export PATH="/opt/homebrew/bin:/opt/homebrew/sbin${PATH+:$PATH}";
        export MANPATH="/opt/homebrew/share/man${MANPATH+:$MANPATH}:";
        export INFOPATH="/opt/homebrew/share/info:${INFOPATH:-}";

        ;;

      "x86_64" | "Power Macintosh")
        export HOMEBREW_PREFIX="/usr/local";
        export HOMEBREW_CELLAR="/usr/local/Cellar";
        export HOMEBREW_REPOSITORY="/usr/local/Homebrew";
        export HOMEBREW_SHELLENV_PREFIX="/usr/local";
        export PATH="/usr/local/bin:/usr/local/sbin${PATH+:$PATH}";
        export MANPATH="/usr/local/share/man${MANPATH+:$MANPATH}:";
        export INFOPATH="/usr/local/share/info:${INFOPATH:-}";

        ;;
    esac

    # Coreutils
    export PATH="$(brew --prefix)/opt/coreutils/libexec/gnubin:$PATH"

    # Findutils
    export PATH="$(brew --prefix)/opt/findutils/libexec/gnubin:$PATH"

    # cURL
    export PATH="$(brew --prefix)/opt/curl/bin:$PATH"

    # OpenSSL
    export PATH="$(brew --prefix)/opt/openssl/bin:$PATH"

    # Ruby
    export PATH="$(brew --prefix)/opt/ruby/bin:$PATH"

    # Sed
    export PATH="$(brew --prefix)/opt/gnu-sed/libexec/gnubin:$PATH"

    # Binutils
    export PATH="$(brew --prefix)/opt/binutils/bin:$PATH"

    ;;
esac
